<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Halaman Pembelajaran</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container d-flex flex-column justify-content-center align-items-center vh-100">
        <!-- Instructions -->
        <p id="instructions" class="text-center fw-light mb-4">Silakan perhatikan dan ingat konsep, kata kunci, atau seluruh kalimat dari materi yang akan ditampilkan.</p>

        <!-- Button to trigger modal -->
        <button type="button" class="btn btn-primary btn-lg" id="startButton" data-bs-toggle="modal" data-bs-target="#startModal">
            Mulai Belajar
        </button>

        <!-- Modal -->
        <div class="modal fade" id="startModal" tabindex="-1" aria-labelledby="startModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="startModalLabel">Konfirmasi</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        Apakah Anda siap untuk memulai pembelajaran?
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Belum</button>
                        <button type="button" class="btn btn-primary" id="confirmStart">Siap</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Learning Content -->
        <div id="learningContent" class="text-center mt-5 d-none">
            <h1 id="materialTitle" class="fw-light display-3">Dasar Fonologi</h1>
            <p id="materialContent" class="fw-light fs-4">Fonologi adalah cabang ilmu linguistik yang mempelajari bunyi-bunyi bahasa dan fungsinya dalam suatu bahasa.</p>
            <p id="videoContent" class="fw-light fs-4">[Video Microlearning 00:59]</p>
            <h3 id="timer" class="mt-3 text-warning">60</h3>
        </div>

        <!-- Action Buttons after Timer -->
        <div id="actionButtons" class="text-center mt-3 d-none">
            <button type="button" class="btn btn-warning me-2" id="retryButton">Coba Lagi</button>
            <button type="button" class="btn btn-success" id="nextButton">Selanjutnya</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const startButton = document.getElementById('startButton');
        const confirmStart = document.getElementById('confirmStart');
        const learningContent = document.getElementById('learningContent');
        const timerDisplay = document.getElementById('timer');
        const actionButtons = document.getElementById('actionButtons');
        const retryButton = document.getElementById('retryButton');
        const nextButton = document.getElementById('nextButton');
        const instructions = document.getElementById('instructions');
        let timer;

        function startTimer() {
            let timeLeft = 60;
            timerDisplay.textContent = timeLeft;

            timer = setInterval(() => {
                timeLeft--;
                timerDisplay.textContent = timeLeft;

                if (timeLeft <= 0) {
                    clearInterval(timer);
                    learningContent.classList.add('d-none');
                    actionButtons.classList.remove('d-none');
                }
            }, 1000);
        }

        confirmStart.addEventListener('click', function() {
            const modal = bootstrap.Modal.getInstance(document.getElementById('startModal'));
            modal.hide();

            startButton.classList.add('d-none');
            instructions.classList.add('d-none');
            learningContent.classList.remove('d-none');
            startTimer();
        });

        retryButton.addEventListener('click', function() {
            actionButtons.classList.add('d-none');
            learningContent.classList.remove('d-none');
            startTimer();
        });

        nextButton.addEventListener('click', function() {
            window.location.href = 'ujian-tulis.html';
        });
    </script>
</body>
</html>
