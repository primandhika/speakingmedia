<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Halaman Pembelajaran</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
    }
    #learningContent, #actionButtons {
      display: none;
    }
    #timer {
      font-size: 2.5rem;
      font-weight: bold;
      color: #ffc107;
      margin: 1rem 0;
    }
  </style>
</head>
<body>

<div class="container">
  <p id="instructions">Silakan perhatikan dan ingat konsep dari materi yang akan ditampilkan.</p>

  <button class="btn btn-light" data-bs-toggle="modal" data-bs-target="#startModal" id="startButton">Mulai Belajar</button>

  <!-- Modal -->
  <div class="modal fade" id="startModal" tabindex="-1" aria-labelledby="startModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content text-dark">
        <div class="modal-header">
          <h5 class="modal-title">Konfirmasi</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">Apakah Anda siap untuk memulai pembelajaran?</div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Belum</button>
          <button type="button" class="btn btn-primary" id="confirmStart">Siap</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Learning Content -->
  <div id="learningContent">
    <h1>Dasar Fonologi</h1>
    <p>Fonologi adalah cabang ilmu linguistik yang mempelajari bunyi-bunyi bahasa dan fungsinya dalam suatu bahasa.</p>
    <div class="ratio ratio-16x9 mb-3">
      <iframe src="https://www.youtube.com/embed/fuGlAULKJ0g" allowfullscreen></iframe>
    </div>
    <div id="timer">60</div>
  </div>

  <!-- After Timer -->
  <div id="actionButtons">
    <button class="btn btn-warning" id="retryButton">Coba Lagi</button>
    <button class="btn btn-success" id="nextButton">Selanjutnya</button>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
  const confirmBtn = document.getElementById('confirmStart');
  const startButton = document.getElementById('startButton');
  const instructions = document.getElementById('instructions');
  const learningContent = document.getElementById('learningContent');
  const timerDisplay = document.getElementById('timer');
  const actionButtons = document.getElementById('actionButtons');
  const retryButton = document.getElementById('retryButton');
  const nextButton = document.getElementById('nextButton');

  let timer;

  confirmBtn.addEventListener('click', () => {
    const modal = bootstrap.Modal.getInstance(document.getElementById('startModal'));
    modal.hide();
    startButton.style.display = 'none';
    instructions.style.display = 'none';
    learningContent.style.display = 'block';
    startTimer();
  });

  function startTimer() {
    let timeLeft = 60;
    timerDisplay.textContent = timeLeft;
    timer = setInterval(() => {
      timeLeft--;
      timerDisplay.textContent = timeLeft;
      if (timeLeft <= 0) {
        clearInterval(timer);
        learningContent.style.display = 'none';
        actionButtons.style.display = 'flex';
      }
    }, 1000);
  }

  retryButton.addEventListener('click', () => {
    actionButtons.style.display = 'none';
    learningContent.style.display = 'block';
    startTimer();
  });

  nextButton.addEventListener('click', () => {
    window.location.href = 'ujian-tulis.html';
  });
</script>
</body>
</html>
